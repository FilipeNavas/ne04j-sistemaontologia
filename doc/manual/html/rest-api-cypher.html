<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>17.3. Cypher queries</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.76.1" /><link rel="home" href="index.html" title="The Neo4j Manual v2.0.0-M01" /><link rel="up" href="rest-api.html" title="Chapter 17. REST API" /><link rel="prev" href="rest-api-streaming.html" title="17.2. Streaming" /><link rel="next" href="rest-api-property-values.html" title="17.4. Property values" /><link rel="preface" href="preface.html" title="Preface" /><link rel="part" href="introduction.html" title="Part I. Introduction" /><link rel="chapter" href="introduction-highlights.html" title="Chapter 1. Neo4j Highlights" /><link rel="chapter" href="graphdb-concepts.html" title="Chapter 2. Graph Database Concepts" /><link rel="chapter" href="graphdb-neo4j.html" title="Chapter 3. The Neo4j Graph Database" /><link rel="part" href="tutorials.html" title="Part II. Tutorials" /><link rel="chapter" href="tutorials-java-embedded.html" title="Chapter 4. Using Neo4j embedded in Java applications" /><link rel="chapter" href="tutorials-rest.html" title="Chapter 5. Neo4j Remote Client Libraries" /><link rel="chapter" href="tutorial-traversal.html" title="Chapter 6. The Traversal Framework" /><link rel="chapter" href="data-modeling-examples.html" title="Chapter 7. Data Modeling Examples" /><link rel="chapter" href="languages.html" title="Chapter 8. Languages" /><link rel="chapter" href="server-extending.html" title="Chapter 9. Extending the Neo4j Server" /><link rel="part" href="reference-documentation.html" title="Part III. Reference" /><link rel="chapter" href="capabilities.html" title="Chapter 10. Capabilities" /><link rel="chapter" href="transactions.html" title="Chapter 11. Transaction Management" /><link rel="chapter" href="import.html" title="Chapter 12. Data Import" /><link rel="chapter" href="indexing.html" title="Chapter 13. Legacy Indexing" /><link rel="chapter" href="cypher-query-lang.html" title="Chapter 14. Cypher Query Language" /><link rel="chapter" href="graph-algo.html" title="Chapter 15. Graph Algorithms" /><link rel="chapter" href="server.html" title="Chapter 16. Neo4j Server" /><link rel="chapter" href="rest-api.html" title="Chapter 17. REST API" /><link rel="part" href="operations.html" title="Part IV. Operations" /><link rel="chapter" href="deployment.html" title="Chapter 18. Installation &amp; Deployment" /><link rel="chapter" href="embedded-configuration.html" title="Chapter 19. Configuration &amp; Performance" /><link rel="chapter" href="ha.html" title="Chapter 20. High Availability" /><link rel="chapter" href="operations-backup.html" title="Chapter 21. Backup" /><link rel="chapter" href="operations-security.html" title="Chapter 22. Security" /><link rel="chapter" href="operations-monitoring.html" title="Chapter 23. Monitoring" /><link rel="part" href="tools.html" title="Part V. Tools" /><link rel="chapter" href="tools-webadmin.html" title="Chapter 24. Web Administration" /><link rel="chapter" href="shell.html" title="Chapter 25. Neo4j Shell" /><link rel="part" href="community.html" title="Part VI. Community" /><link rel="chapter" href="community-support.html" title="Chapter 26. Community Support" /><link rel="chapter" href="community-contributing.html" title="Chapter 27. Contributing to Neo4j" /><link rel="appendix" href="manpages.html" title="Appendix A. Manpages" /><link rel="refentry" href="re01.html" title="neo4j" /><link rel="refentry" href="re02.html" title="neo4j-shell" /><link rel="refentry" href="re03.html" title="neo4j-backup" /><link rel="appendix" href="questions.html" title="Appendix B. Questions &amp; Answers" /><link rel="subsection" href="rest-api-cypher.html#rest-api-send-queries-with-parameters" title="17.3.1. Send queries with parameters" /><link rel="subsection" href="rest-api-cypher.html#rest-api-send-a-query" title="17.3.2. Send a Query" /><link rel="subsection" href="rest-api-cypher.html#rest-api-return-paths" title="17.3.3. Return paths" /><link rel="subsection" href="rest-api-cypher.html#rest-api-nested-results" title="17.3.4. Nested results" /><link rel="subsection" href="rest-api-cypher.html#rest-api-retrieve-query-meta-data" title="17.3.5. Retrieve query meta data" /><link rel="subsection" href="rest-api-cypher.html#rest-api-profile-a-query" title="17.3.6. Profile a query" /><link rel="subsection" href="rest-api-cypher.html#rest-api-server-errors" title="17.3.7. Server errors" /><link rel="copyright" href="ln-idp1118768.html" title="License: Creative Commons 3.0" />


<!-- favicon -->

<link rel="shortcut icon" href="http://neo4j.org/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="icon" href="http://neo4j.org/favicon.ico" type="image/x-icon" />

<!-- style -->

<link href="css/shCore.css" rel="stylesheet" type="text/css" />
<link href="css/shCoreEclipse.css" rel="stylesheet" type="text/css" />
<link href="css/shThemeEclipse.css" rel="stylesheet" type="text/css" />
<link href="css/neo.css" rel="stylesheet" type="text/css" />

<!-- Syntax Highlighter -->

<script type="text/javascript" src="js/shCore.js"></script>
<script type="text/javascript" src="js/shBrushJava.js"></script>
<script type="text/javascript" src="js/shBrushJScript.js"></script>
<script type="text/javascript" src="js/shBrushBash.js"></script>
<script type="text/javascript" src="js/shBrushPlain.js"></script>
<script type="text/javascript" src="js/shBrushXml.js"></script>
<script type="text/javascript" src="js/shBrushGroovy.js"></script>
<script type="text/javascript" src="js/shBrushCypher.js"></script>
<script type="text/javascript" src="js/shBrushScala.js"></script>
<script type="text/javascript" src="js/shBrushSql.js"></script>
<script type="text/javascript" src="js/shBrushPython.js"></script>
<script type="text/javascript" src="js/shBrushProperties.js"></script>

<!-- activate when needed
<script type="text/javascript" src="js/shBrushRuby.js"></script>
<script type="text/javascript" src="js/shBrushCSharp.js"></script>
-->
 
<script type="text/javascript">
  SyntaxHighlighter.defaults['tab-size'] = 4;
  SyntaxHighlighter.defaults['gutter'] = false;
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all()
</script>

<!-- JQuery -->

<script type="text/javascript" src="js/jquery-1.6.4.min.js"></script>

<!-- Replace SVG for browsers that lack support. -->
<script type="text/javascript" src="js/svgreplacer.js"></script>

<!-- Image Scaler -->

<script type="text/javascript" src="js/imagescaler.js"></script>

<!-- Table Styler -->

<script type="text/javascript" src="js/tablestyler.js"></script>

<!-- Version -->

<script type="text/javascript" src="js/version.js"></script>

<!-- Offline Sidebar -->

<script type="text/javascript" src="js/sidebar.js"></script>


<div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">The Neo4j Manual</a></span> &gt; <span class="breadcrumb-link"><a href="reference-documentation.html">Reference</a></span> &gt; <span class="breadcrumb-link"><a href="rest-api.html">REST API</a></span> &gt; <span class="breadcrumb-node">Cypher queries</span></div></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="rest-api-streaming.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="rest-api-property-values.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="rest-api-cypher"></a>17.3. Cypher queries</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="rest-api-cypher.html#rest-api-send-queries-with-parameters">17.3.1. Send queries with parameters</a></span></dt><dt><span class="section"><a href="rest-api-cypher.html#rest-api-send-a-query">17.3.2. Send a Query</a></span></dt><dt><span class="section"><a href="rest-api-cypher.html#rest-api-return-paths">17.3.3. Return paths</a></span></dt><dt><span class="section"><a href="rest-api-cypher.html#rest-api-nested-results">17.3.4. Nested results</a></span></dt><dt><span class="section"><a href="rest-api-cypher.html#rest-api-retrieve-query-meta-data">17.3.5. Retrieve query meta data</a></span></dt><dt><span class="section"><a href="rest-api-cypher.html#rest-api-profile-a-query">17.3.6. Profile a query</a></span></dt><dt><span class="section"><a href="rest-api-cypher.html#rest-api-server-errors">17.3.7. Server errors</a></span></dt></dl></div><p>The Neo4j REST API allows querying with Cypher, see <a class="xref" href="cypher-query-lang.html" title="Chapter 14. Cypher Query Language">Chapter 14, <em>Cypher Query Language</em></a>.
The results are returned as a list of string headers (<code class="literal">columns</code>), and a <code class="literal">data</code> part,
consisting of a list of all rows, every row consisting of a list of REST representations
of the field value — <code class="literal">Node</code>, <code class="literal">Relationship</code>, <code class="literal">Path</code> or any simple value like <code class="literal">String</code>.</p><div class="tip" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/icons/admon/tip.png" /></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>In order to speed up queries in repeated scenarios, try not to use literals but replace them with parameters wherever possible in order to let the server cache query plans, see <a class="xref" href="rest-api-cypher.html#rest-api-send-queries-with-parameters" title="17.3.1. Send queries with parameters">Section 17.3.1, “Send queries with parameters”</a> for details.</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-send-queries-with-parameters"></a>17.3.1. Send queries with parameters</h3></div></div></div><p>Cypher supports queries with parameters
which are submitted as a JSON map.</p><pre class="programlisting brush: cypher">START x  = node:node_auto_index(name={startName})
MATCH path = (x-[r]-friend)
WHERE friend.name = {name}
RETURN TYPE(r)</pre><div class="figure"><a id="idp11933856"></a><p class="title"><strong>Figure 17.3. Final Graph</strong></p><div class="figure-contents"><a class="ulink" href="images/Final-Graph-send-queries-with-parameters.svg" target="_top">
<span class="inlinemediaobject"><img src="images/Final-Graph-send-queries-with-parameters.svg" alt="Final-Graph-send-queries-with-parameters.svg" /></span>
</a></div></div><br class="figure-break" /><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">POST</code></strong></span>  <code class="literal">http://localhost:7474/db/data/cypher</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "query" : "start x  = node:node_auto_index(name={startName}) match path = (x-[r]-friend) where friend.name = {name} return TYPE(r)",
  "params" : {
    "startName" : "I",
    "name" : "you"
  }
}</pre><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">200:</code></strong></span> <code class="literal">OK</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "columns" : [ "TYPE(r)" ],
  "data" : [ [ "know" ] ]
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-send-a-query"></a>17.3.2. Send a Query</h3></div></div></div><p>A simple query returning all nodes connected to node 1, returning the
node and the name property, if it exists, otherwise <code class="literal">null</code>:</p><pre class="programlisting brush: cypher">START x  = node(202)
MATCH x -[r]-&gt; n
RETURN type(r), n.name?, n.age?</pre><div class="figure"><a id="idp11958608"></a><p class="title"><strong>Figure 17.4. Final Graph</strong></p><div class="figure-contents"><a class="ulink" href="images/Final-Graph-Send-a-Query.svg" target="_top">
<span class="inlinemediaobject"><img src="images/Final-Graph-Send-a-Query.svg" alt="Final-Graph-Send-a-Query.svg" /></span>
</a></div></div><br class="figure-break" /><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">POST</code></strong></span>  <code class="literal">http://localhost:7474/db/data/cypher</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "query" : "start x  = node(202) match x -[r]-&gt; n return type(r), n.name?, n.age?",
  "params" : {
  }
}</pre><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">200:</code></strong></span> <code class="literal">OK</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "columns" : [ "type(r)", "n.name?", "n.age?" ],
  "data" : [ [ "know", "him", 25 ], [ "know", "you", null ] ]
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-return-paths"></a>17.3.3. Return paths</h3></div></div></div><p>Paths can be returned
together with other return types by just
specifying returns.</p><pre class="programlisting brush: cypher">START x  = node(207)
MATCH path = (x--friend)
RETURN path, friend.name</pre><div class="figure"><a id="idp11982704"></a><p class="title"><strong>Figure 17.5. Final Graph</strong></p><div class="figure-contents"><a class="ulink" href="images/Final-Graph-return-paths.svg" target="_top">
<span class="inlinemediaobject"><img src="images/Final-Graph-return-paths.svg" alt="Final-Graph-return-paths.svg" /></span>
</a></div></div><br class="figure-break" /><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">POST</code></strong></span>  <code class="literal">http://localhost:7474/db/data/cypher</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "query" : "start x  = node(207) match path = (x--friend) return path, friend.name",
  "params" : {
  }
}</pre><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">200:</code></strong></span> <code class="literal">OK</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "columns" : [ "path", "friend.name" ],
  "data" : [ [ {
    "start" : "http://localhost:7474/db/data/node/207",
    "nodes" : [ "http://localhost:7474/db/data/node/207", "http://localhost:7474/db/data/node/206" ],
    "length" : 1,
    "relationships" : [ "http://localhost:7474/db/data/relationship/133" ],
    "end" : "http://localhost:7474/db/data/node/206"
  }, "you" ] ]
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-nested-results"></a>17.3.4. Nested results</h3></div></div></div><p>When sending queries that
return nested results like list and maps,
these will get serialized into nested JSON representations
according to their types.</p><pre class="programlisting brush: cypher">START n = node(204,203)
RETURN collect(n.name)</pre><div class="figure"><a id="idp12007392"></a><p class="title"><strong>Figure 17.6. Final Graph</strong></p><div class="figure-contents"><a class="ulink" href="images/Final-Graph-nested-results.svg" target="_top">
<span class="inlinemediaobject"><img src="images/Final-Graph-nested-results.svg" alt="Final-Graph-nested-results.svg" /></span>
</a></div></div><br class="figure-break" /><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">POST</code></strong></span>  <code class="literal">http://localhost:7474/db/data/cypher</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "query" : "start n = node(204,203) return collect(n.name)",
  "params" : {
  }
}</pre><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">200:</code></strong></span> <code class="literal">OK</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "columns" : [ "collect(n.name)" ],
  "data" : [ [ [ "I", "you" ] ] ]
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-retrieve-query-meta-data"></a>17.3.5. Retrieve query meta data</h3></div></div></div><p>By passing in an additional GET header when you execute cypher queries, meta data about the query will
be returned, such as how many labels were added or removed by the query.</p><pre class="programlisting brush: cypher">START n = node(205)
SET n:foo
REMOVE n:bar
RETURN labels(n)</pre><div class="figure"><a id="idp12031440"></a><p class="title"><strong>Figure 17.7. Final Graph</strong></p><div class="figure-contents"><a class="ulink" href="images/Final-Graph-Retrieve-query-meta-data.svg" target="_top">
<span class="inlinemediaobject"><img src="images/Final-Graph-Retrieve-query-meta-data.svg" alt="Final-Graph-Retrieve-query-meta-data.svg" /></span>
</a></div></div><br class="figure-break" /><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">POST</code></strong></span>  <code class="literal">http://localhost:7474/db/data/cypher?includeStats=true</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "query" : "start n = node(205) set n:foo remove n:bar return labels(n)",
  "params" : {
  }
}</pre><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">200:</code></strong></span> <code class="literal">OK</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "columns" : [ "labels(n)" ],
  "data" : [ [ [ "foo" ] ] ],
  "stats" : {
    "relationships_created" : 0,
    "nodes_deleted" : 0,
    "relationship_deleted" : 0,
    "properties_set" : 0,
    "labels_removed" : 1,
    "labels_added" : 1,
    "nodes_created" : 0,
    "contains_updates" : true
  }
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-profile-a-query"></a>17.3.6. Profile a query</h3></div></div></div><p>By passing in an extra parameter, you can ask the cypher executor to return a profile of the query
as it is executed. This can help in locating bottlenecks.</p><pre class="programlisting brush: cypher">START x  = node(197)
MATCH x -[r]-&gt; n
RETURN type(r), n.name?, n.age?</pre><div class="figure"><a id="idp12055840"></a><p class="title"><strong>Figure 17.8. Final Graph</strong></p><div class="figure-contents"><a class="ulink" href="images/Final-Graph-Profile-a-query.svg" target="_top">
<span class="inlinemediaobject"><img src="images/Final-Graph-Profile-a-query.svg" alt="Final-Graph-Profile-a-query.svg" /></span>
</a></div></div><br class="figure-break" /><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">POST</code></strong></span>  <code class="literal">http://localhost:7474/db/data/cypher?profile=true</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "query" : "start x  = node(197) match x -[r]-&gt; n return type(r), n.name?, n.age?",
  "params" : {
  }
}</pre><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">200:</code></strong></span> <code class="literal">OK</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "columns" : [ "type(r)", "n.name?", "n.age?" ],
  "data" : [ [ "know", "him", 25 ], [ "know", "you", null ] ],
  "plan" : {
    "args" : {
      "returnItemNames" : [ "type(r)", "n.name?", "n.age?" ],
      "_rows" : 2,
      "_db_hits" : 0,
      "symKeys" : [ "x", "n", "n.name?", "n.age?", "type(r)", "r" ]
    },
    "dbHits" : 0,
    "name" : "ColumnFilter",
    "children" : [ {
      "args" : {
        "_rows" : 2,
        "_db_hits" : 4,
        "exprKeys" : [ "type(r)", "n.name?", "n.age?" ],
        "symKeys" : [ "n", "x", "r" ]
      },
      "dbHits" : 4,
      "name" : "Extract",
      "children" : [ {
        "args" : {
          "trail" : "(x)-[r WHERE true AND true]-&gt;(n)",
          "_rows" : 2,
          "_db_hits" : 3
        },
        "dbHits" : 3,
        "name" : "TraversalMatcher",
        "children" : [ ],
        "rows" : 2
      } ],
      "rows" : 2
    } ],
    "rows" : 2
  }
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-server-errors"></a>17.3.7. Server errors</h3></div></div></div><p>Errors on the server will be reported as a JSON-formatted stacktrace and
message.</p><pre class="programlisting brush: cypher">START x = node(187)
RETURN x.dummy</pre><div class="figure"><a id="idp12081040"></a><p class="title"><strong>Figure 17.9. Final Graph</strong></p><div class="figure-contents"><a class="ulink" href="images/Final-Graph-Server-errors.svg" target="_top">
<span class="inlinemediaobject"><img src="images/Final-Graph-Server-errors.svg" alt="Final-Graph-Server-errors.svg" /></span>
</a></div></div><br class="figure-break" /><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">POST</code></strong></span>  <code class="literal">http://localhost:7474/db/data/cypher</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "query" : "start x = node(187) return x.dummy",
  "params" : {
  }
}</pre><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">400:</code></strong></span> <code class="literal">Bad Request</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "message": "The property \u0027dummy\u0027 does not exist on Node[187]",
  "exception": "EntityNotFoundException",
  "fullname": "org.neo4j.cypher.EntityNotFoundException",
  "stacktrace": [
    "org.neo4j.cypher.internal.helpers.MapSupport$PropertyContainerMap$$anonfun$apply$1.apply(MapSupport.scala:67)",
    "org.neo4j.cypher.internal.helpers.MapSupport$PropertyContainerMap$$anonfun$apply$1.apply(MapSupport.scala:67)",
    "scala.Option.getOrElse(Option.scala:120)",
    "org.neo4j.cypher.internal.helpers.MapSupport$PropertyContainerMap.apply(MapSupport.scala:67)",
    "org.neo4j.cypher.internal.helpers.MapSupport$PropertyContainerMap.apply(MapSupport.scala:52)",
    "org.neo4j.cypher.internal.commands.expressions.Property.apply(Property.scala:31)",
    "org.neo4j.cypher.internal.pipes.ExtractPipe$$anonfun$internalCreateResults$1$$anonfun$apply$1.apply(ExtractPipe.scala:47)",
    "org.neo4j.cypher.internal.pipes.ExtractPipe$$anonfun$internalCreateResults$1$$anonfun$apply$1.apply(ExtractPipe.scala:45)",
    "scala.collection.immutable.Map$Map1.foreach(Map.scala:109)",
    "org.neo4j.cypher.internal.pipes.ExtractPipe$$anonfun$internalCreateResults$1.apply(ExtractPipe.scala:45)",
    "org.neo4j.cypher.internal.pipes.ExtractPipe$$anonfun$internalCreateResults$1.apply(ExtractPipe.scala:44)",
    "scala.collection.Iterator$$anon$11.next(Iterator.scala:328)",
    "scala.collection.Iterator$$anon$11.next(Iterator.scala:328)",
    "org.neo4j.cypher.internal.ClosingIterator$$anonfun$next$1.apply(ClosingIterator.scala:44)",
    "org.neo4j.cypher.internal.ClosingIterator.failIfThrows(ClosingIterator.scala:84)",
    "org.neo4j.cypher.internal.ClosingIterator.next(ClosingIterator.scala:43)",
    "org.neo4j.cypher.PipeExecutionResult.next(PipeExecutionResult.scala:144)",
    "org.neo4j.cypher.PipeExecutionResult.next(PipeExecutionResult.scala:32)",
    "scala.collection.Iterator$$anon$11.next(Iterator.scala:328)",
    "scala.collection.convert.Wrappers$IteratorWrapper.next(Wrappers.scala:30)",
    "org.neo4j.helpers.collection.ExceptionHandlingIterable$1.next(ExceptionHandlingIterable.java:67)",
    "org.neo4j.helpers.collection.IteratorWrapper.next(IteratorWrapper.java:47)",
    "org.neo4j.server.rest.repr.ListRepresentation.serialize(ListRepresentation.java:58)",
    "org.neo4j.server.rest.repr.Serializer.serialize(Serializer.java:75)",
    "org.neo4j.server.rest.repr.MappingSerializer.putList(MappingSerializer.java:61)",
    "org.neo4j.server.rest.repr.CypherResultRepresentation.serialize(CypherResultRepresentation.java:79)",
    "org.neo4j.server.rest.repr.MappingRepresentation.serialize(MappingRepresentation.java:42)",
    "org.neo4j.server.rest.repr.OutputFormat.assemble(OutputFormat.java:179)",
    "org.neo4j.server.rest.repr.OutputFormat.formatRepresentation(OutputFormat.java:131)",
    "org.neo4j.server.rest.repr.OutputFormat.response(OutputFormat.java:117)",
    "org.neo4j.server.rest.repr.OutputFormat.ok(OutputFormat.java:55)",
    "org.neo4j.server.rest.web.CypherService.cypher(CypherService.java:87)",
    "java.lang.reflect.Method.invoke(Method.java:597)"
  ]
}</pre></div></div><HR xmlns=""></HR><a xmlns="" href="ln-idp1118768.html"><p xmlns="http://www.w3.org/1999/xhtml" class="copyright">Copyright © 2013 Neo Technology</p></a><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="rest-api-streaming.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="rest-api.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="rest-api-property-values.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
